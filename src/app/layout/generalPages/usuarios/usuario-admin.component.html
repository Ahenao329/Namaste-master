<div id="mainDiv" class="div-main-page">
    <div>
        <h3>{{titulo}}</h3>
        <hr />
    </div>

    <form (ngSubmit)="onSubmit()" id="form-Docs" class="pt-3" [formGroup]="userForm" novalidate>
        <div class="form-row">
            <div class="col-sm-6 col-xs-12">
                <mat-form-field class="col-sm-11 LabelForm">
                    <input matInput placeholder="Nombre" type="text" formControlName="nombre" maxlength="100" required>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('nombre').hasError(validation.type) 
      && (userForm.get('nombre').dirty || userForm.get('nombre').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-sm-6 col-xs-12">
                <mat-form-field class="col-sm-11 LabelForm">
                    <input matInput placeholder="Correo electrónico" type="text" formControlName="email" maxlength="100"
                        required>
                    <mat-error *ngFor="let validation of errors.email">
                        <mat-error class="error-message" *ngIf="userForm.get('email').hasError(validation.type) 
                  && (userForm.get('email').dirty || userForm.get('email').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="col-sm-6  col-xs-12">
                <mat-form-field class="col-md-11">
                    <mat-select placeholder="Perfil" formControlName="idPerfil" required
                        (selectionChange)="onPerfilSelectedChanged()">
                        <mat-option *ngFor="let item of _dataPerfiles" [value]="item.idPerfil">
                            {{item.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('idPerfil').hasError(validation.type) 
      && (userForm.get('idPerfil').dirty || userForm.get('idPerfil').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-sm-6  col-xs-12">
                <mat-form-field class="col-md-11">
                    <mat-select placeholder="Líder" formControlName="idLider" required>
                        <mat-option *ngFor="let item of _dataUsuariosLider" [value]="item.idLider">
                            {{item.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('idLider').hasError(validation.type) 
      && (userForm.get('idLider').dirty || userForm.get('idLider').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-sm-6  col-xs-12">
                <mat-form-field class="col-md-11">
                    <mat-select placeholder="Responsable salud emocional" formControlName="idEncargadoSaludEmocional"
                        required>
                        <mat-option *ngFor="let item of _dataUsuariosEncargadoSaludEmocional"
                            [value]="item.idEncargadoSaludEmocional">
                            {{item.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('idEncargadoSaludEmocional').hasError(validation.type) 
      && (userForm.get('idEncargadoSaludEmocional').dirty || userForm.get('idEncargadoSaludEmocional').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-sm-6  col-xs-12">
                <mat-form-field class="col-md-11">
                    <mat-select placeholder="Cargo/Profesión" formControlName="idCargo" required>
                        <mat-option *ngFor="let item of _dataCargos" [value]="item.idCargo">
                            {{item.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('idCargo').hasError(validation.type) 
      && (userForm.get('idCargo').dirty || userForm.get('idCargo').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-sm-6  col-xs-12">
                <mat-form-field class="col-md-11">
                    <mat-select placeholder="Área" formControlName="idArea" required>
                        <mat-option *ngFor="let item of _dataAreas" [value]="item.idArea">
                            {{item.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('idArea').hasError(validation.type) 
      && (userForm.get('idArea').dirty || userForm.get('idArea').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-sm-6  col-xs-12">
                <mat-form-field class="col-md-11">
                    <mat-select placeholder="¿Reporta emociones?" formControlName="reportaEmociones" required>
                        <mat-option *ngFor="let item of _dataSiNo" [value]="item.idSiNo">
                            {{item.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('reportaEmociones').hasError(validation.type) 
      && (userForm.get('reportaEmociones').dirty || userForm.get('reportaEmociones').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-sm-6  col-xs-12">
                <mat-form-field class="col-md-11">
                    <mat-select placeholder="¿Correo diario?" formControlName="conCorreoDiario" required>
                        <mat-option *ngFor="let item of _dataSiNo" [value]="item.idSiNo">
                            {{item.nombre}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('conCorreoDiario').hasError(validation.type) 
      && (userForm.get('conCorreoDiario').dirty || userForm.get('conCorreoDiario').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col-sm-6 col-xs-12">
                <mat-form-field class="col-sm-11 LabelForm">
                    <input matInput placeholder="Celular" type="text" formControlName="celular" maxlength="50"
                        required>
                    <mat-error *ngFor="let validation of errors.Requerido">
                        <mat-error class="error-message" *ngIf="userForm.get('celular').hasError(validation.type) 
                  && (userForm.get('celular').dirty || userForm.get('celular').touched)">
                            {{validation.message}}
                        </mat-error>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="form-row">
            <div class="col-sm-6 col-xs-12 ssFieldActivo">
                <mat-checkbox formControlName="activo" labelPosition="before">
                    Activo
                </mat-checkbox>
            </div>
            <div class="row col-sm-6  col-xs-12" *ngIf="_mostrarReenviarCorreoInicio">
                <div class="col-sm-12 labelTit">Correo de inicio</div>
                <div class="col-sm-12 labelText">
                    <button mat-raised-button class="btn rounded-btn btnTerciario" style="min-width: 200px;"
                        type="button" (click)="onReenviarCorreo()">Reenviar</button>&nbsp;
                </div>
            </div>
        </div>
        <div class="col-md-11 text-center mt-5">
            <button mat-raised-button class="btn rounded-btn btnSecundario" type="button"
                routerLink="/{{_appConfig.routes.Usuarios}}">Cancelar</button>&nbsp;

            <button mat-raised-button [disabled]="!_puedeModificar || (!_puedeCrear && this.parametro == 0)"
                class="btn rounded-btn btnPpal" type="submit">Guardar</button>

            <button mat-raised-button [disabled]="!_puedeEliminar" type="button"
                class="btn rounded-btn btnSecundario float-right" (click)="onDelete()">Eliminar</button>
        </div>
    </form>

</div>